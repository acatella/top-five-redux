"use strict";angular.module("topFiveReduxApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),angular.module("topFiveReduxApp").controller("MainCtrl",["$scope","$sce","redditService",function(a,b,c){a.allposts=c.search().$promise.then(function(b){for(var c=[],d=b.data.children,e=0,f=0;f<d.length;f++)if(!d[f].data.domain.search("streamable")){e++;var g=d[f];c.push(g);var h=g.data.url.split("/"),i=h[h.length-1];g.commentLink="https://www.reddit.com"+g.data.permalink,g.thumbnail="https://cdn.streamable.com/image/"+i+".jpg",g.videoSource="https://cdn.streamable.com/video/mp4/"+i+".mp4",g.counter=e}a.gifs=c}),a.trustSrc=function(a){return b.trustAsResourceUrl(a)},a.reOrder=function(b,c){var d=b;a.gifs.splice(c,1),a.gifs.unshift(d)}}]),angular.module("topFiveReduxApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("topFiveReduxApp").factory("redditService",["$resource",function(a){return a("https://www.reddit.com/r/:subreddit/top/.json?sort=top&t=:range",{},{search:{method:"GET",params:{subreddit:"soccer",range:"today"},isArray:!1}})}]),angular.module("topFiveReduxApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<div class="container-fluid"> <div ng-repeat="post in gifs"> <div ng-click="reOrder(post, $index)"> <p> {{post.data.title}} </p> <video loop preload="none" poster="{{post.thumbnail}}" controls> <source ng-src="{{trustSrc(post.videoSource)}}" type="video/mp4  "> </source></video> <a ng-href="{{post.commentLink}}" target="_blank">Comments</a> </div> </div> </div>')}]);